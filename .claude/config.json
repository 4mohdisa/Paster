{
  "project": "AiPaste Monorepo",
  "description": "Monorepo with Electron app and Swift CLI for clipboard management and OCR",
  "architecture": {
    "type": "monorepo",
    "package_manager": "pnpm",
    "workspaces": [
      "apps/main-window",
      "apps/menubar",
      "electron",
      "native/swift-cli",
      "packages/ui",
      "packages/config-typescript"
    ]
  },
  "hooks": {
    "pre-task": ".claude/hooks/pre-task.md",
    "post-task": ".claude/hooks/post-task.md"
  },
  "context": {
    "always_read": [
      "agent-docs/CURRENT_ARCHITECTURE_2025.md",
      "agent-docs/MASTER_PROGRESS_REPORT.md",
      "agent-docs/WORK_HOOKS_PROTOCOL.md"
    ],
    "phase_specific": {
      "phase_2": [
        "/Users/moinulmoin/Developer/clients/neutralbase/angry-ants/Packages/AiPasteCore/Sources/AiPasteCore/AiPasteCore.swift",
        "/Users/moinulmoin/Developer/clients/neutralbase/aipaste/AiPaste/Events/EventTap.swift"
      ],
      "phase_3": [
        "apps/main-window/app/(protected)/settings/page.tsx",
        "packages/ui/src/components/"
      ]
    }
  },
  "packages": {
    "@aipaste/electron": "electron/",
    "@aipaste/main-window": "apps/main-window/",
    "@aipaste/menubar": "apps/menubar/",
    "@aipaste/swift-cli": "native/swift-cli/",
    "@aipaste/ui": "packages/ui/",
    "@aipaste/config-typescript": "packages/config-typescript/"
  },
  "rules": [
    "Always check CURRENT_ARCHITECTURE_2025.md for latest structure",
    "Always check MASTER_PROGRESS_REPORT.md before starting work",
    "Create implementation reports for significant changes",
    "Test Swift CLI after any modifications using pnpm commands",
    "Update progress percentages after completing components",
    "Follow original Swift code patterns exactly",
    "Use pnpm workspace commands for package-specific operations",
    "Maintain monorepo structure and workspace dependencies"
  ],
  "testing": {
    "swift_cli": [
      "cd native/swift-cli && swift build -c release",
      "native/swift-cli/.build/release/AiPasteHelper test",
      "echo -e 'A\\tB\\nC\\tD' | native/swift-cli/.build/release/AiPasteHelper format --stdin"
    ],
    "monorepo": [
      "pnpm build",
      "pnpm typecheck",
      "pnpm lint"
    ],
    "electron": [
      "pnpm --filter @aipaste/electron build",
      "pnpm --filter @aipaste/electron typecheck"
    ],
    "ui": [
      "pnpm --filter @aipaste/main-window dev",
      "pnpm --filter @aipaste/main-window build"
    ]
  },
  "commands": {
    "dev": "pnpm dev",
    "build": "pnpm build",
    "dist": "pnpm dist",
    "swift_build": "pnpm --filter @aipaste/electron swift:build",
    "package_command": "pnpm --filter <package> <command>"
  },
  "current_state": {
    "phase": 2,
    "phase_name": "Core Features",
    "completion": 35,
    "next_task": "OCR Implementation",
    "blockers": [],
    "migration_status": "monorepo structure established"
  }
}